<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="winwin.dao.Apply2Dao">
  
  	<select id="selectJobOpen" parameterType="winwin.dto.JobopenBasic" resultType="winwin.dto.JobopenBasic">
  		SELECT title, endDate, jobopenNo FROM jobopenbasic WHERE jobopenNo=#{jobopenNo}
  	</select>
  
  	<insert id="insertLanguage" parameterType="winwin.dto.Language">
  		INSERT INTO language(languageNo, userId, jobopenNo, lName, grade, testName, score, lDate, lOrgan)
  		VALUES(LANGUAGE_SEQ.NEXTVAL, #{userId }, #{jobopenNo }, '영어', #{grade }, #{testName }, #{score }, #{lDate }, #{lOrgan })
  	</insert>
  	
  	<insert id="insertLicense" parameterType="winwin.dto.License">
  		INSERT INTO license(licenseNo, userId, jobopenNo, liName, liDate, liOrgan)
  		VALUES(LICENSE_SEQ.NEXTVAL, #{userId }, #{jobopenNo }, #{liName }, #{liDate }, #{liOrgan })
  	</insert>
  	
  	<insert id="insertCareer" parameterType="winwin.dto.Career">
  		INSERT INTO career(careerNo, userId, jobopenNo, cStartDate, cEndDate, cName, position, task, salary, cContent)
  		VALUES(CAREER_SEQ.NEXTVAL, #{userId }, #{jobopenNo }, #{cStartDate }, #{cEndDate }, #{cName }, #{position }, #{task }, #{salary }, #{cContent })
  	</insert>
  	
  	<insert id="insertActivity" parameterType="winwin.dto.Activity">
  		INSERT INTO activity(activityNo, userId, jobopenNo, aName, aStartDate, aEndDate, aContent)
  		VALUES(ACTIVITY_SEQ.NEXTVAL, #{userId }, #{jobopenNo }, #{aName }, #{aStartDate }, #{aEndDate }, #{aContent })
  	</insert>
  	
  	<insert id="insertExperience" parameterType="winwin.dto.Experience">
  		INSERT INTO experience(experienceNo, userId, jobopenNo, eOrgan, period, eStartDate, eEndDate, eContent)
  		VALUES(EXPERIENCE_SEQ.NEXTVAL, #{userId }, #{jobopenNo }, #{eOrgan }, #{period }, #{eStartDate }, #{eEndDate }, #{eContent })
  	</insert>
  	
  	<insert id="insertMaterial" parameterType="winwin.dto.Material">
  		INSERT INTO material(fileNo, userId, portfolioId, originName, storedName, writedate, filesize)
  		VALUES(MATERIAL_SEQ.NEXTVAL, #{userId }, #{portfolioId }, #{originName }, #{storedName }, #{writedate }, #{filesize })
  	</insert>
  	
  	<insert id="insertIntroduce" parameterType="winwin.dto.Introduce">
  		INSERT INTO introduce(introduceNo, userId, jobopenNo, content1, content2, content3, content4, content5)
  		VALUES(INTRODUCE_SEQ.NEXTVAL, #{userId }, #{jobopenNo }, #{content1 }, #{content2 }, #{content3 }, #{content4 }, #{content5 })
  	</insert>  	
  	
  	<insert id="insertSupport" parameterType="winwin.dto.Support">
  		INSERT INTO support(passNO, jobopenNo, userId)
  		VALUES(SUPPORT_SEQ.NEXTVAL,  #{jobopenNo }, #{userId })
  	</insert>
  	
  	
  	
  	<select id="selectIntroduce" parameterType="winwin.dto.Introduce" resultType="winwin.dto.Introduce">
  		SELECT * FROM introduce
  		WHERE userId = #{userId } AND jobopenNo = #{jobopenNo }
  	</select>
  	
  	
  	
  	
  	<update id="updateIntroduce" parameterType="winwin.dto.Introduce">
  		UPDATE introduce
  		SET content1 = #{content1 }, 
  			content2 = #{content2 }, 
  			content3 = #{content3 }, 
  			content4 = #{content4 }, 
  			content5 = #{content5 } 
  		WHERE userId = #{userId } AND jobopenNo = #{jobopenNo }
  	</update>
  
  </mapper>